# You must sign into travis-ci.org and set the commit hook on your project for travis to
# run on your project. The secure: variable must be generated by running `travis encrypt`
# on a github oauth key that you can generate using curl.

language:
    node_js
node_js:
    - "iojs-v2.0.0"
    #- "iojs"
notifications:
    irc: "irc.freenode.org#generator-travis-ci"
branches:
    only:
        - master
        - feature/jest
env:
    global:
        # GH_OAUTH_TOKEN is the oauth token generated as described at
        # https://help.github.com/articles/creating-an-oauth-token-for-command-line-use
        #
        # curl -u 'username' -d '{"scopes":["repo"],"note":"push to gh-pages from travis"}' https://api.github.com/authorizations
        #
        # It must be encrypted using the travis gem
        # http://about.travis-ci.org/docs/user/build-configuration/#Secure-environment-variables
        #
        # travis encrypt GH_OAUTH_TOKEN=XXXXXXXXXXXXXXX
        #
        # User specific env variables
		- secure: "qu5w29aMSuc4JX/DzG5nD0YGS3y7Gb59BwvhVGDTpeATaQtIit0cFvPaEjFuUvhXkJ233XkskiIZHgRnTNHNaUGDOcgEA1nidpmxBd9gUhrtZGqFgdV75a5sQQsWF1wMGLAJrJtrYZLYhbwWDtZyg0/ipZLOynmRvWEZ06QuK3D6ptddgXxkR0GlL2wBjHzaZ3Wl9UzPGDIiRG/mejRZlnPE0K3k2fTkvcqspEUF4XDyYs3r9w9vmvQKVDc5bdWcwX6JRO2+PuPRW5WyriktlNuV6EqdL9YDs4Vgpc2WRaAniPmn1V9RTUacB5V4Y+xc5+5OODZT/iYDthoeFdpwQJ26AIan+OvDQ5JIDtRoTcoQR5KX76hbaHQbxNcxS/dwC9CFIHhaZmgs5Jtj+nZ6tc4cEK4fj50jo9YVvLc72FoIi1hrLDKhKgQNvoP/7/MqhbUShmOuhNNDEz78k8h8ycwX54nHjD7aYdM2XJX12Hv38pU/r1S2fF2Qkcj4PIsdF/mq1D58zpn0Z9LJipvnrCjCGQ5rh7vz84bbY00P3y9JDzN+CXz1zxQ0i1YjVfQ3c4LY3RGqldmCHKFWK7u/f9cFW9QM91SCVSsU7FMqmzt57ibbk81N2CtHJykAfERv73U7mw1qk/bAvJr+ZnE7zRj6vGq/EpR265BDxsfsgns="
        - GH_OWNER: fhinkel 
        - GH_PROJECT_NAME: beertopeer
        # This .travis.yml file instructs travis-ci.org to build your master branch using `yeoman build`
        # and deploy the output to your project's gh-pages branch.

before_script:
    # install dependencies
    #- gem update --system
    #- gem install compass
    #- npm install -g grunt-cli bower
    # - cp src/constants/LocalConfig.js.template src/constants/LocalConfig.js
script:
    # We want to gate on passing tests and a successful build
    #- bower install
    - npm test
    #- grunt build
    #- mocha test/spec/services/*
deploy:
    skip_cleanup: true
    provider: script
    script: scripts/deploy.sh
    on:
        branch: feature/jest
        node: "iojs-v2.0.0"

